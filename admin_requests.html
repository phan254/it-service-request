{% extends "base.html" %}
{% block content %}
<h2>All Requests</h2>
<p>Filter:
  <a href="{{ url_for('admin_requests') }}">All</a> |
  <a href="{{ url_for('admin_requests', status='Pending') }}">Pending</a> |
  <a href="{{ url_for('admin_requests', status='Resolved') }}">Resolved</a>
</p>
<table border="1" cellpadding="6">
  <tr><th>ID</th><th>Name</th><th>Dept</th><th>Category</th><th>Status</th><th>Created</th><th>Action</th></tr>
  {% for r in requests %}
  <tr>
    <td>{{ r.id }}</td>
    <td>{{ r.requester_name }}</td>
    <td>{{ r.department }}</td>
    <td>{{ r.category }}</td>
    <td>{{ r.status }}</td>
    <td>{{ r.created_at }}</td>
    <td><a href="{{ url_for('view_request', request_id=r.id) }}">View</a></td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
